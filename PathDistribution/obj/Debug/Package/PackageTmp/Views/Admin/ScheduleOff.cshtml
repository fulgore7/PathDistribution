@using PathDistribution.Helpers
@model List<PathDistribution.Models.OffSchedule>

@{ 
    bool isAdmin = System.Web.HttpContext.Current.IsAdmin();
}
<table id="offschedule" cellspacing="3" cellpadding="0" style="width:100%">
    <thead class="text2" style="text-align:center;">
        <tr>
            <td colspan="2" class="text7">Off Assignments</td>
            <td>Mo</td>
            <td>Tu</td>
            <td>We</td>
            <td>Th</td>
            <td>Fr</td>
        </tr>
    </thead>
    <tbody>
        @foreach (var off in Model)
        {
            <tr>
                @if (string.IsNullOrEmpty(off.chrPath))
                {
                    <td colspan="7" class="text2" style="height:22px">Consultants</td>
                }
                else
                {
                    <td style="width:35px;">@Html.TextBoxFor(a => off.chrPath, new { @style = "width:35px;text-align:center;pointer-events:none", @readonly = "readonly" })</td>
                    <td style="width:auto;">@Html.TextBoxFor(a => off.chrName, new { @style = "width:auto;pointer-events:none", @readonly = "readonly" })</td>
                    if (isAdmin)
                    {
                        <td style="width:35px;">@Html.TextBoxFor(a => off.Mo, new { @style = "width:35px;text-align:center;", @class = "PathOffList", @data_path = off.chrPath, @data_dw = "Monday", @readonly = "readonly" })</td>
                        <td style="width:35px;">@Html.TextBoxFor(a => off.Tu, new { @style = "width:35px;text-align:center;", @class = "PathOffList", @data_path = off.chrPath, @data_dw = "Tuesday", @readonly = "readonly" })</td>
                        <td style="width:35px;">@Html.TextBoxFor(a => off.We, new { @style = "width:35px;text-align:center;", @class = "PathOffList", @data_path = off.chrPath, @data_dw = "Wednesday", @readonly = "readonly" })</td>
                        <td style="width:35px;">@Html.TextBoxFor(a => off.Th, new { @style = "width:35px;text-align:center;", @class = "PathOffList", @data_path = off.chrPath, @data_dw = "Thursday", @readonly = "readonly" })</td>
                        <td style="width:35px;">@Html.TextBoxFor(a => off.Fr, new { @style = "width:35px;text-align:center;", @class = "PathOffList", @data_path = off.chrPath, @data_dw = "Friday", @readonly = "readonly" })</td>
                    }
                    else
                    {
                        <td style="width:35px;">@Html.TextBoxFor(a => off.Mo, new { @style = "width:35px;text-align:center;pointer-events:none", @class = "PathOffListRO", @readonly = "readonly" })</td>
                        <td style="width:35px;">@Html.TextBoxFor(a => off.Tu, new { @style = "width:35px;text-align:center;pointer-events:none", @class = "PathOffListRO", @readonly = "readonly" })</td>
                        <td style="width:35px;">@Html.TextBoxFor(a => off.We, new { @style = "width:35px;text-align:center;pointer-events:none", @class = "PathOffListRO", @readonly = "readonly" })</td>
                        <td style="width:35px;">@Html.TextBoxFor(a => off.Th, new { @style = "width:35px;text-align:center;pointer-events:none", @class = "PathOffListRO", @readonly = "readonly" })</td>
                        <td style="width:35px;">@Html.TextBoxFor(a => off.Fr, new { @style = "width:35px;text-align:center;pointer-events:none", @class = "PathOffListRO", @readonly = "readonly" })</td>
                    }
                }
            </tr>
        }
    </tbody>
</table>
